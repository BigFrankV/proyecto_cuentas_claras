# Configuración de Pasarelas de Pago para Cuentas Claras
# Copie este archivo como .env y complete con sus credenciales

# ==============================================
# WEBPAY PLUS (TRANSBANK) - Pasarela Principal
# ==============================================
# Documentación: https://www.transbankdevelopers.cl/
# Obtener credenciales: https://portal.transbank.cl/

# Códigos de comercio
WEBPAY_COMMERCE_CODE=597055555532  # Código de integración (cambiar por producción)
WEBPAY_API_KEY=579B532A7440BB0C9079DED94D31EA1615BACEB56610332264630D42D0A36B1C  # Key de integración

# Ambiente: 'integration' o 'production'
WEBPAY_ENVIRONMENT=integration

# URLs de retorno (cambiar por su dominio)
WEBPAY_RETURN_URL=http://localhost:3001/payment/webpay/return
WEBPAY_FINAL_URL=http://localhost:3001/payment/webpay/final

# ==============================================
# KHIPU - Transferencias Bancarias
# ==============================================
# Documentación: https://khipu.com/page/api-doc
# Obtener credenciales: https://khipu.com/signup

KHIPU_RECEIVER_ID=your-khipu-receiver-id
KHIPU_SECRET=your-khipu-secret-key

# Ambiente: 'sandbox' o 'production'
KHIPU_ENVIRONMENT=sandbox

# URLs de notificación
KHIPU_NOTIFY_URL=http://localhost:3001/api/gateway/webhook/khipu
KHIPU_RETURN_URL=http://localhost:3001/payment/khipu/return
KHIPU_CANCEL_URL=http://localhost:3001/payment/khipu/cancel

# ==============================================
# MERCADOPAGO - Múltiples Métodos de Pago
# ==============================================
# Documentación: https://www.mercadopago.cl/developers
# Obtener credenciales: https://www.mercadopago.cl/developers/panel

MERCADOPAGO_ACCESS_TOKEN=your-mercadopago-access-token
MERCADOPAGO_PUBLIC_KEY=your-mercadopago-public-key

# Ambiente: 'sandbox' o 'production'
MERCADOPAGO_ENVIRONMENT=sandbox

# URLs de notificación
MERCADOPAGO_WEBHOOK_URL=http://localhost:3001/api/gateway/webhook/mercadopago
MERCADOPAGO_SUCCESS_URL=http://localhost:3001/payment/mercadopago/success
MERCADOPAGO_FAILURE_URL=http://localhost:3001/payment/mercadopago/failure
MERCADOPAGO_PENDING_URL=http://localhost:3001/payment/mercadopago/pending

# ==============================================
# CONFIGURACIÓN GENERAL
# ==============================================

# URLs base de la aplicación
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001

# Configuración de pagos
PAYMENT_CURRENCY=CLP
PAYMENT_COUNTRY=CL

# Timeouts (en segundos)
PAYMENT_TIMEOUT=300  # 5 minutos
WEBHOOK_TIMEOUT=30   # 30 segundos

# ==============================================
# CONFIGURACIÓN DE PRODUCCIÓN
# ==============================================
# Para producción, cambiar:
# 1. WEBPAY_ENVIRONMENT=production
# 2. KHIPU_ENVIRONMENT=production  
# 3. MERCADOPAGO_ENVIRONMENT=production
# 4. Actualizar todas las URLs con el dominio real
# 5. Usar credenciales de producción de cada pasarela

# Ejemplo URLs de producción:
# WEBPAY_RETURN_URL=https://cuentasclaras.cl/payment/webpay/return
# KHIPU_NOTIFY_URL=https://cuentasclaras.cl/api/gateway/webhook/khipu
# MERCADOPAGO_WEBHOOK_URL=https://cuentasclaras.cl/api/gateway/webhook/mercadopago

# ==============================================
# CONFIGURACIÓN DE LOGS
# ==============================================
# Habilitar logs detallados de pagos (solo desarrollo)
PAYMENT_DEBUG_LOGS=true

# Nivel de log para transacciones: error, warn, info, debug
PAYMENT_LOG_LEVEL=info