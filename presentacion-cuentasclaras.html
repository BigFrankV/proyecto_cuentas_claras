<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CUENTAS CLARAS ¬∑ Portafolio de T√≠tulo</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@500;600;700;800&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    /* --- VARIABLES DE DISE√ëO --- */
    :root {
      --primary: #004AAD;
      /* Azul Corporativo */
      --primary-dark: #003380;
      /* Azul Oscuro */
      --accent: #3673D8;
      /* Azul Brillante */
      --text-main: #0A2540;
      /* Texto Principal */
      --text-light: #52606D;
      /* Texto Secundario */
      --bg-slide: #F8FAFC;
      /* Fondo */
      --card-shadow: 0 20px 40px -10px rgba(0, 74, 173, 0.15);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--text-main);
      overflow: hidden;
    }

    #presentation {
      position: relative;
      width: 100%;
      height: 100%;
    }

    /* --- DIAPOSITIVAS --- */
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 20px 60px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      opacity: 0;
      z-index: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      background: white;
      background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L20 20 M20 0 L0 20' stroke='%23e2e8f0' stroke-width='0.5' opacity='0.1'/%3E%3C/svg%3E");
      overflow-y: auto;
    }

    .slide.active {
      opacity: 1;
      z-index: 10;
      pointer-events: all;
    }

    /* --- TIPOGRAF√çA --- */
    h1,
    h2,
    h3 {
      font-family: 'Poppins', sans-serif;
      color: var(--primary);
      margin: 0;
    }

    h2 {
      font-size: 32px;
      margin-bottom: 20px;
      padding-bottom: 8px;
      border-bottom: 3px solid var(--accent);
      display: inline-block;
    }

    p {
      font-size: 16px;
      line-height: 1.6;
      color: var(--text-light);
      max-width: 1100px;
      margin-bottom: 15px;
    }

    .small {
      font-size: 14px;
    }

    strong {
      color: var(--text-main);
      font-weight: 700;
    }

    /* --- PORTADA --- */
    #slide-0 {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      text-align: center;
      align-items: center;
    }

    #slide-0 h1 {
      color: white;
      font-size: 56px;
      margin-bottom: 10px;
      letter-spacing: -1px;
    }

    #slide-0 p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 22px;
      font-weight: 300;
    }

    #slide-0 h2 {
      border: none;
      color: white;
      font-size: 18px;
      opacity: 0.8;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    #slide-final {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      text-align: center;
      align-items: center;
    }

    #slide-final h1 {
      color: white;
      font-size: 56px;
      margin-bottom: 10px;
      letter-spacing: -1px;
    }

    #slide-final p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 22px;
      font-weight: 300;
    }

    #slide-final h2 {
      border: none;
      color: white;
      font-size: 18px;
      opacity: 0.8;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .mermaid-container {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 10px;
      width: 100%;
      height: 65vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      margin-top: 10px;
      box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.03);
      overflow: auto;
      position: relative;
    }

    .mermaid {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    /* --- BOTONES Y UTILIDADES --- */
    .zoom-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      z-index: 5;
      transition: transform 0.2s, background 0.2s;
    }

    .zoom-btn:hover {
      transform: scale(1.05);
      background: var(--accent);
    }

    .btn {
      transition: all 0.3s ease;
    }

    .btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .insight-box {
      background: #f0f9ff;
      border-left: 5px solid var(--accent);
      padding: 12px 20px;
      margin-bottom: 15px;
      border-radius: 6px;
      font-size: 15px;
      color: var(--text-main);
      display: flex;
      align-items: center;
      gap: 15px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    .insight-icon {
      font-size: 24px;
    }

    /* --- MODAL PANTALLA COMPLETA --- */
    #fullscreen-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(248, 250, 252, 0.98);
      z-index: 9999;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    #fullscreen-viewport {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: grab;
    }

    #fullscreen-viewport:active {
      cursor: grabbing;
    }

    #fullscreen-content {
      transform-origin: center center;
      transition: transform 0.1s ease-out;
      display: flex;
      justify-content: center;
      align-items: center;
      min-width: 50vw;
      min-height: 50vh;
    }

    #fullscreen-content svg {
      max-width: none !important;
      height: auto;
    }

    #fullscreen-controls {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      background: white;
      padding: 12px 25px;
      border-radius: 50px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      z-index: 10000;
      border: 1px solid #eee;
    }

    .control-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      border: none;
      background: #f1f5f9;
      color: var(--text-main);
      font-size: 22px;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .control-btn:hover {
      background: var(--accent);
      color: white;
    }

    #close-modal {
      position: absolute;
      top: 30px;
      right: 40px;
      background: #ef4444;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      font-size: 16px;
      box-shadow: 0 5px 15px rgba(239, 68, 68, 0.3);
      z-index: 10001;
      transition: transform 0.2s;
    }

    #close-modal:hover {
      transform: scale(1.05);
    }

    /* --- GRID Y TARJETAS --- */
    .grid {
      display: flex;
      gap: 25px;
      width: 100%;
      margin-top: 20px;
    }

    .col {
      flex: 1;
    }

    .col-2 {
      flex: 1.5;
    }

    .team-container {
      display: flex;
      gap: 25px;
      margin-top: 20px;
      width: 100%;
    }

    .team-card {
      background: white;
      border: 1px solid #e2e8f0;
      padding: 25px;
      border-radius: 16px;
      flex: 1;
      text-align: center;
      box-shadow: var(--card-shadow);
      transition: transform 0.3s;
    }

    .team-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
    }

    .avatar {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      margin-bottom: 15px;
      border: 3px solid #e0f2fe;
    }

    .dark-box {
      background: #1e293b;
      color: white;
      padding: 25px;
      border-radius: 12px;
      font-size: 15px;
      height: 100%;
      box-shadow: var(--card-shadow);
      display: flex;
      flex-direction: column;
    }

    .dark-box strong {
      color: #60a5fa;
      font-size: 18px;
      display: block;
      margin-bottom: 10px;
    }

    .dark-box ul {
      padding-left: 20px;
      margin: 0;
    }

    .dark-box li {
      margin-bottom: 8px;
    }

    /* --- CONTROLES DE NAVEGACI√ìN --- */
    .controls {
      position: fixed;
      bottom: 30px;
      right: 40px;
      display: flex;
      gap: 15px;
      z-index: 1000;
    }

    .nav-btn {
      width: 55px;
      height: 55px;
      border-radius: 50%;
      border: none;
      background: white;
      color: var(--primary);
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, background 0.2s;
    }

    .nav-btn:hover {
      transform: scale(1.1);
      background: var(--primary);
      color: white;
    }

    .slide-indicator {
      position: fixed;
      bottom: 40px;
      left: 40px;
      font-family: 'Poppins';
      font-weight: 700;
      color: var(--text-light);
      font-size: 16px;
      z-index: 1000;
    }

    .tech-icons {
      display: flex;
      gap: 30px;
      justify-content: center;
      margin-top: 50px;
    }

    .tech-icon {
      width: 100px;
      height: 100px;
      background: white;
      border-radius: 20px;
      padding: 20px;
      box-shadow: var(--card-shadow);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.3s;
    }

    .tech-icon:hover {
      transform: translateY(-10px);
    }

    .tech-icon:hover {
      transform: translateY(-10px);
    }

    .text-light {
      color: #fff
    }
  </style>
</head>

<body>

  <div id="fullscreen-modal">
    <button id="close-modal" onclick="closeFullscreen()">‚úñ CERRAR</button>

    <div id="fullscreen-viewport" onmousedown="startDrag(event)" onmousemove="drag(event)" onmouseup="endDrag()"
      onwheel="handleWheel(event)">
      <div id="fullscreen-content"></div>
    </div>

    <div id="fullscreen-controls">
      <button class="control-btn" onclick="zoom(-0.2)" title="Reducir">Ôºç</button>
      <button class="control-btn" onclick="resetZoom()" title="Restaurar">‚ü≤</button>
      <button class="control-btn" onclick="zoom(0.2)" title="Aumentar">Ôºã</button>
    </div>
  </div>

  <div id="presentation">
    <section class="slide active" id="slide-0">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Logo_DuocUC.svg/2560px-Logo_DuocUC.svg.png"
        style="height: 80px; margin-bottom: 40px; filter: brightness(0) invert(1);" alt="Logo Duoc">
      <h1>CUENTAS CLARAS</h1>
      <h2>PORTAFOLIO DE T√çTULO</h2>
      <p>Gesti√≥n de cobros, conciliaciones y administraci√≥n para comunidades.</p>
      <p style="font-size: 20px; font-weight: 600; margin-top: 30px;">Integrantes: Patricio Quintanilla, Frank Vogt,
        Mat√≠as Rom√°n</p>
      <p style="font-size: 18px; opacity: 0.8; margin-top: 20px;">Diciembre 2025</p>
    </section>
    <section class="slide">
      <h2>üë• Integrantes del Proyecto</h2>
      <div class="team-container">
        <div class="team-card">
          <img src="https://ui-avatars.com/api/?name=Patricio+Quintanilla&background=004AAD&color=fff&size=128"
            class="avatar" style="width: 120px; height: 120px;">
          <h3 style="font-size: 24px;">Patricio Quintanilla</h3>
          <p style="font-size: 18px; line-height: 1.4;"><strong>Full stack developer</strong><br>Responsable del
            desarrollo de la interfaz, experiencia del usuario, dise√±o visual, integraci√≥n de componentes, l√≥gica de
            interacci√≥n y optimizaci√≥n general del frontend utilizando Next.js y React.</p>
        </div>
        <div class="team-card">
          <img src="https://ui-avatars.com/api/?name=Frank+Vogt&background=004AAD&color=fff&size=128" class="avatar"
            style="width: 120px; height: 120px;">
          <h3 style="font-size: 24px;">Frank Vogt</h3>
          <p style="font-size: 18px; line-height: 1.4;"><strong>Full stack developer</strong><br>Encargado de la
            arquitectura del sistema, APIs, seguridad, autenticaci√≥n, l√≥gica de negocio, integraci√≥n con bases de datos
            y desarrollo de servicios utilizando Node.js, Express y autenticaci√≥n 2FA.</p>
        </div>
        <div class="team-card">
          <img src="https://ui-avatars.com/api/?name=Mat%C3%ADas+Rom%C3%A1n&background=004AAD&color=fff&size=128"
            class="avatar" style="width: 120px; height: 120px;">
          <h3 style="font-size: 24px;">Mat√≠as Rom√°n</h3>
          <p style="font-size: 18px; line-height: 1.4;"><strong>Documentaci√≥n y QA</strong><br>Responsable de la
            documentaci√≥n formal del proyecto, manuales y diagramaci√≥n. Encargado del control de calidad mediante
            pruebas funcionales, validaci√≥n de requerimientos y aseguramiento de est√°ndares t√©cnicos.</p>
        </div>
      </div>
    </section>

<div class="slide">
  <h2 style="font-size: 42px; margin-bottom: 30px;">Descripci√≥n del Proyecto</h2>

  <div style="display: flex; gap: 40px; align-items: stretch; height: 75%;">

    <div style="display: flex; flex-direction: column; gap: 40px; flex: 3; max-width: 60%;">

      <div class="col" style="background: #fff1f2; border: 2px solid #fecdd3; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(225, 29, 72, 0.1); flex: 1; display: flex; flex-direction: column; justify-content: space-between;">
        
        <div>
          <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
            <strong style="font-size: 32px; color: #be123c;">‚ö†Ô∏è El Problema</strong>
          </div>
          
          <ul style="list-style: none; padding: 0; margin: 0; font-size: 24px; line-height: 1.4; color: #881337;">
            <li style="margin-bottom: 15px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px;">error_outline</i>
              <span>Gesti√≥n manual propensa a errores humanos.</span>
            </li>
            <li style="margin-bottom: 15px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px;">link_off</i>
              <span>Herramientas desconectadas (Excel, WhatsApp).</span>
            </li>
            <li style="display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px;">sentiment_dissatisfied</i>
              <span>Desconfianza de los residentes.</span>
            </li>
          </ul>
        </div>

      </div>

      <div class="col" style="background: var(--primary, #1e3a8a); color: white; padding: 30px; border-radius: 20px; box-shadow: 0 15px 40px rgba(0, 74, 173, 0.3); flex: 1; display: flex; flex-direction: column; justify-content: space-between;">
        
        <div>
          <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
            <strong style="font-size: 32px;">‚úÖ Nuestra Soluci√≥n</strong>
          </div>

          <ul style="list-style: none; padding: 0; margin: 0; font-size: 24px; line-height: 1.4;">
            <li style="margin-bottom: 15px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px; color: #93c5fd;">cloud_done</i>
              <span>Plataforma centralizada 100% web.</span>
            </li>
            <li style="margin-bottom: 15px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px; color: #93c5fd;">autorenew</i>
              <span>Automatizaci√≥n de cargos y conciliaciones.</span>
            </li>
            <li style="display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons" style="font-size: 28px; margin-top: 3px; color: #93c5fd;">security</i>
              <span>Seguridad avanzada (JWT, 2FA).</span>
            </li>
          </ul>
        </div>
        
      </div>

    </div>

    <div style="flex: 2; max-width: 40%; display: flex; justify-content: center; align-items: center; background: #fff; border-radius: 20px; padding: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.05);">
        
        <img src="https://undraw.co/ud_steps_3.svg" alt="Ilustraci√≥n de pasos de un proceso" style="width: 100%; height: auto; max-height: 100%; object-fit: contain;">

    </div>

  </div>
</div>
    
<section class="slide">
      <h2>üß© Introducci√≥n</h2>
      
      <div class="grid" style="align-items: flex-start; gap: 50px; margin-top: 20px;">
        
        <div class="col-2" style="display: flex; flex-direction: column; justify-content: center; padding-right: 10px;">

          <div style="margin-bottom: 20px;">
            <h3
              style="font-size: 44px; font-weight: 800; color: var(--primary); margin: 0; line-height: 1; letter-spacing: -1px;">
              CUENTAS CLARAS
            </h3>
            <p
              style="font-size: 20px; color: var(--text-light); margin-top: 12px; font-weight: 400; border-left: 5px solid var(--accent); padding-left: 15px; line-height: 1.3;">
              Plataforma integral para gesti√≥n de comunidades y condominios.
            </p>
          </div>

          <p
            style="font-size: 14px; color: var(--accent); margin-bottom: 18px; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px;">
            FUNCIONALIDADES PRINCIPALES
          </p>

          <ul
            style="list-style: none; padding: 0; margin: 0; font-size: 18px; color: var(--text-light); line-height: 1.4;">
            <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Emisi√≥n mensual de gastos comunes.</span>
            </li>
            <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Registro y prorrateo de consumos.</span>
            </li>
            <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Gesti√≥n de unidades y residentes.</span>
            </li>
            <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Control de pagos y conciliaci√≥n.</span>
            </li>
            <li style="margin-bottom: 10px; display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Gesti√≥n de reservas y bit√°coras.</span>
            </li>
            <li style="display: flex; align-items: flex-start; gap: 12px;">
              <i class="material-icons"
                style="color: var(--accent); font-size: 22px; margin-top: 2px;">check_circle_outline</i>
              <span>Roles y permisos por comunidad.</span>
            </li>
          </ul>

        </div>

        <div class="col" style="display: flex; flex-direction: column; gap: 22px;">

          <div
            style="background: white; border: 1px solid #eee; padding: 25px; border-radius: 16px; box-shadow: 0 12px 25px rgba(0,0,0,0.08);">
            <div style="display:flex; gap:15px; margin-bottom:22px; align-items:flex-start;">
              <i class="material-icons" style="font-size:34px; color: var(--accent);">diamond</i>
              <div>
                <strong
                  style="font-size: 19px; display: block; margin-bottom: 5px; color: var(--text-main);">Transparencia</strong>
                <span style="font-size: 16px; color: var(--text-light); line-height: 1.3;">Trazabilidad completa de cada
                  transacci√≥n y movimiento financiero.</span>
              </div>
            </div>
            <div style="display:flex; gap:15px; margin-bottom:22px; align-items:flex-start;">
              <i class="material-icons" style="font-size:34px; color: var(--accent);">lock</i>
              <div>
                <strong
                  style="font-size: 19px; display: block; margin-bottom: 5px; color: var(--text-main);">Seguridad</strong>
                <span style="font-size: 16px; color: var(--text-light); line-height: 1.3;">Datos aislados por comunidad,
                  cifrados y protegidos con autenticaci√≥n multi-factor.</span>
              </div>
            </div>
            <div style="display:flex; gap:15px; align-items:flex-start;">
              <i class="material-icons" style="font-size:34px; color: var(--accent);">flash_on</i>
              <div>
                <strong
                  style="font-size: 19px; display: block; margin-bottom: 5px; color: var(--text-main);">Automatizaci√≥n</strong>
                <span style="font-size: 16px; color: var(--text-light); line-height: 1.3;">Eliminaci√≥n de c√°lculos
                  manuales mediante procesos automatizados y confiables.</span>
              </div>
            </div>
          </div>

          <div style="background: #f0f9ff; border-left: 6px solid var(--primary); padding: 20px; border-radius: 10px;">
            <p style="font-size: 16px; margin: 0; color: var(--text-main); line-height: 1.4;">
              <strong style="color: var(--primary); font-size: 18px; display:block; margin-bottom:6px;">Stack
                Tecnol√≥gico:</strong>
              Arquitectura escalable y modular con separaci√≥n de responsabilidades: Backend (Node.js + Express),
              Frontend (Next.js + React) y despliegue en contenedores Docker.
            </p>
          </div>

        </div>
      </div>
    </section>

    <section class="slide">
      <h2 style="font-size: 48px; margin-bottom: 30px; border-bottom: 3px solid var(--accent); display: inline-block;">
        <i class="material-icons" style="vertical-align: middle; font-size: 56px; margin-right: 15px;">track_changes</i>
        Objetivo del Proyecto
      </h2>

      <p style="font-size: 32px; margin-bottom: 40px; color: var(--text-main); font-weight: 500;">
        Desarrollar una plataforma capaz de:
      </p>

      <ul style="font-size: 28px; line-height: 1.5; color: var(--text-light); list-style: none; padding: 0;">

        <li style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">group</i>
          <span>Unificar todos los procesos administrativos de una comunidad.</span>
        </li>

        <li style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">visibility</i>
          <span>Asegurar transparencia financiera total.</span>
        </li>

        <li style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">timer</i>
          <span>Reducir tiempos en la emisi√≥n, c√°lculo y cobranza.</span>
        </li>

        <li style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">folder</i>
          <span>Centralizar la informaci√≥n y facilitar auditor√≠as.</span>
        </li>

        <li style="margin-bottom: 20px; display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">expand</i>
          <span>Permitir escalabilidad y multicomunidad (multi-tenancy).</span>
        </li>

        <li style="display: flex; align-items: flex-start; gap: 20px;">
          <i class="material-icons" style="font-size: 36px; color: var(--accent); margin-top: 4px;">lock</i>
          <span>Incorporar seguridad moderna (JWT + 2FA).</span>
        </li>

      </ul>
    </section>

    <div class="slide">
      <h2>Flujo Principal (Viaje del Usuario)</h2>
      <p>El ciclo de vida de un gasto com√∫n: desde que se carga la factura hasta que el dinero se concilia en el banco.
      </p>
      <div class="insight-box">
        <span class="insight-icon">üîÑ</span>
        <strong>Automatizaci√≥n:</strong> El sistema conecta al Administrador, al Residente y al Banco en un flujo
        continuo sin intervenci√≥n manual.
      </div>
      <div class="mermaid-container">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>
        <div class="mermaid">
          sequenceDiagram
          participant Admin
          participant Sistema
          participant Residente
          participant Pasarela de pago

          Admin->>Sistema: Carga Gasto (Factura Luz)
          Sistema->>Sistema: Calcula Prorrateo (Alicuotas)
          Sistema->>Residente: Notifica Cobro (Email)
          Residente->>Sistema: Visualiza Deuda en App
          Residente->>Pasarela de pago: Realiza Pago Web
          Pasarela de pago->>Sistema: Webhook (Pago Exitoso)
          Sistema->>Sistema: Conciliaci√≥n Autom√°tica
          Sistema->>Admin: Actualiza Dashboard Financiero
        </div>
      </div>
    </div>

    <div class="slide">
      <h2 style="font-size: 36px;">Metodolog√≠a usada</h2>

      <div style="display: flex; justify-content: center; margin-bottom: 20px;">
        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 4V2C12 1.44772 11.5523 1 11 1H3C2.44772 1 2 1.44772 2 2V10C2 10.5523 2.44772 11 3 11H5"
            stroke="#004AAD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path
            d="M16.2426 7.75736L14.8284 9.17157C14.0783 9.9217 13.0609 10.3431 12 10.3431H9V2.34315H12C13.0609 2.34315 14.0783 2.76457 14.8284 3.51472L19.0711 7.75736C20.5716 9.25788 20.5716 11.6905 19.0711 13.1911L15.5355 16.7266"
            stroke="#004AAD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M9 15.6569H12C13.0609 15.6569 14.0783 16.0783 14.8284 16.8284L16.2426 18.2426" stroke="#004AAD"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M12 20V22C12 22.5523 11.5523 23 11 23H3C2.44772 23 2 22.5523 2 22V14C2 13.4477 2.44772 13 3 13H5"
            stroke="#004AAD" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M17 13L21 9" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M7 5L11 9" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>

      <p style="text-align: center; font-size: 22px; max-width: 100%; margin-bottom: 40px;">
        Se utiliz√≥ la metodolog√≠a <strong>√Ågil scrum</strong>, porque nos permite definir los requisitos durante el desarrollo
        y haciendo uso de la retroalimentaci√≥n directa de usuarios y el cliente.
      </p>

      <div class="grid">
        <div class="col dark-box" style="background: white; border: 1px solid #eee; color: var(--text-main);">
          <ul style="line-height: 2.5; list-style-type: disc; padding-left: 30px; font-size: 20px;">
            <li>Adaptabilidad y Flexibilidad</li>
            <li>Enfoque en el cliente</li>
            <li>Entrega incremental</li>
          </ul>
        </div>
        <div class="col dark-box" style="background: white; border: 1px solid #eee; color: var(--text-main);">
          <ul style="line-height: 2.5; list-style-type: disc; padding-left: 30px; font-size: 20px;">
            <li>Mejora continua</li>
            <li>Transparencia y visibilidad</li>
            <li>Motivaci√≥n y compromiso del equipo</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="slide">
      <h2 style="font-size: 42px; margin-bottom: 30px;">Arquitectura del Sistema</h2>

      <div class="insight-box">
        <span class="insight-icon">‚òÅÔ∏è</span>
        <strong>Dato T√©cnico:</strong> Separaci√≥n total entre Frontend (Next.js) y Backend (Node.js). Flujo horizontal
        de izquierda a derecha.
      </div>

      <div class="mermaid-container" style="background-color: #f8fcff; border: 1px solid #e0f2fe;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>
        <div class="mermaid">
          flowchart LR
          %% Estilos
          classDef front fill:#dbeafe,stroke:#b3c0ec,stroke-width:2px,color:#1e3a8a
          classDef back fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:#78350f
          classDef data fill:#dcfce7,stroke:#166534,stroke-width:2px,color:#14532d
          classDef ext fill:#f3f4f6,stroke:#4b5563,stroke-width:2px,stroke-dasharray: 5 5,color:#374151

          %% Nodo Inicial
          U[Usuario / Navegador]

          subgraph CLOUD["Nube"]
          direction LR

          subgraph EDGE["Edge / Gateway"]
          direction TB
          NGINX[Nginx - Reverse Proxy]:::front
          FE[Frontend - Next.js]:::front
          end

          subgraph BACKEND["Backend / API"]
          direction TB
          API["API - Express (Node.js)"]:::back
          WORKERS[Workers / Jobs]:::back
          end

          subgraph INFRA["Infraestructura de Datos"]
          direction TB
          REDIS[(Redis Cache)]:::data
          STORAGE[(Object Storage)]:::data
          MYSQL[(MySQL 8.0)]:::data
          end
          end

          subgraph EXTERNAL["Servicios Externos"]
          direction TB
          PAYMENT[Pasarela Pagos]:::ext
          SMTP[Proveedor Email]:::ext
          end

          %% Relaciones (Flujo Horizontal)
          U --> NGINX
          NGINX --> FE
          FE --> API

          %% Conexiones Backend
          API <--> PAYMENT
            API --> SMTP
            API --> WORKERS

            %% Conexiones Datos
            API --> REDIS
            API --> STORAGE
            API --> MYSQL
            WORKERS --> MYSQL
        </div>
      </div>
    </div>
    <div class="slide">
      <div style="width: 100%; margin-bottom: 30px;">
        <h2
          style="font-size: 54px; color: var(--primary); margin: 0; padding-bottom: 15px; border-bottom: 5px solid var(--accent); width: 100%; text-align: left;">
          Modelo de Datos
        </h2>
        <p style="font-size: 26px; color: var(--text-light); margin-top: 15px; font-weight: 400;">
          Arquitectura Relacional Normalizada (3NF): Integridad y "Fuente √önica de Verdad".
        </p>
      </div>

      <div style="display: flex; flex-direction: column; gap: 30px; height: 100%; justify-content: flex-start;">

        <div>
          <h4 style="font-size: 30px; color: var(--primary); margin-bottom: 15px; font-weight: 600;">
            ¬øPor qu√© elegimos la 3ra Forma Normal?
          </h4>

          <div style="display: flex; gap: 25px;">
            <div
              style="flex: 1; background: #fff1f2; border-left: 6px solid #be123c; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.05);">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <i class="material-icons" style="color: #be123c; font-size: 28px;">warning</i>
                <strong style="color: #be123c; font-size: 24px;">El Problema (Legacy)</strong>
              </div>
              <p style="margin: 0; font-size: 20px; color: #881337; line-height: 1.4;">
                Redundancia de datos. Corregir un nombre implica editar miles de registros hist√≥ricos.
              </p>
            </div>

            <div
              style="flex: 1; background: #f0fdf4; border-left: 6px solid #15803d; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.05);">
              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <i class="material-icons" style="color: #15803d; font-size: 28px;">check_circle</i>
                <strong style="color: #15803d; font-size: 24px;">Nuestra Soluci√≥n (3NF)</strong>
              </div>
              <p style="margin: 0; font-size: 20px; color: #14532d; line-height: 1.4;">
                Separaci√≥n de entidades. Actualizar un dato maestro se refleja instant√°neamente.
              </p>
            </div>
          </div>
        </div>

        <div>
          <h4 style="font-size: 30px; color: var(--primary); margin-bottom: 20px; font-weight: 600;">
            Estructura del Negocio: Los 4 Pilares
          </h4>

          <div class="grid" style="gap: 20px; margin-top: 0;">

            <div class="col"
              style="background: white; border: 1px solid #e2e8f0; border-radius: 16px; padding: 20px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
              <div
                style="background: #eff6ff; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                <span style="font-size: 32px;">üè¢</span>
              </div>
              <strong
                style="font-size: 24px; color: var(--text-main); display: block; margin-bottom: 8px;">Comunidad</strong>
              <p style="font-size: 18px; color: var(--text-light); margin: 0; line-height: 1.3;">Entidad ra√≠z y
                aislamiento de datos (Tenant).</p>
            </div>

            <div class="col"
              style="background: white; border: 1px solid #e2e8f0; border-radius: 16px; padding: 20px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
              <div
                style="background: #fefce8; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                <span style="font-size: 32px;">üè†</span>
              </div>
              <strong
                style="font-size: 24px; color: var(--text-main); display: block; margin-bottom: 8px;">Unidad</strong>
              <p style="font-size: 18px; color: var(--text-light); margin: 0; line-height: 1.3;">Activo f√≠sico perpetuo,
                desacoplado del due√±o.</p>
            </div>

            <div class="col"
              style="background: white; border: 1px solid #e2e8f0; border-radius: 16px; padding: 20px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
              <div
                style="background: #fdf2f8; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                <span style="font-size: 32px;">üßæ</span>
              </div>
              <strong
                style="font-size: 24px; color: var(--text-main); display: block; margin-bottom: 8px;">Emisi√≥n</strong>
              <p style="font-size: 18px; color: var(--text-light); margin: 0; line-height: 1.3;">Generador de deuda.
                Auditor√≠a financiera exacta.</p>
            </div>

            <div class="col"
              style="background: white; border: 1px solid #e2e8f0; border-radius: 16px; padding: 20px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
              <div
                style="background: #f0fdf4; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px;">
                <span style="font-size: 32px;">üí∏</span>
              </div>
              <strong
                style="font-size: 24px; color: var(--text-main); display: block; margin-bottom: 8px;">Pago</strong>
              <p style="font-size: 18px; color: var(--text-light); margin: 0; line-height: 1.3;">Cierre del ciclo.
                Distribuci√≥n inteligente.</p>
            </div>

          </div>
        </div>

      </div>
    </div>

    <div class="slide">
      <div style="text-align: center; margin-bottom: 30px;">
        <h2 style="font-size: 44px; margin-bottom: 15px; color: var(--primary);">Arquitectura de Reglas de Negocios</h2>
        <h3 style="font-size: 24px; color: var(--text-light); font-weight: 400; margin: 0;">
          Dise√±o por capas para seguridad, consistencia y automatizaci√≥n.
        </h3>
      </div>

      <div class="grid" style="gap: 12px; align-items: stretch; margin-top: -10px;">

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <div style="text-align: center; margin-bottom: 8px;">
            <div style="font-size: 24px; margin-bottom: 3px;">üß±</div>
            <strong style="font-size: 13px; color: var(--primary); display: block;">Grado 1: Fundamentales</strong>
            <span style="font-size: 11px; color: var(--text-light);">(Seguridad y Aislamiento)</span>
          </div>
          <ul style="padding-left: 20px; margin: 0; font-size: 16px; line-height: 1.5; color: var(--text-main);">
            <li style="margin-bottom: 10px;">
              <strong>Multitenancy:</strong> Aislamiento de datos <span style="font-weight: 600; color: var(--text-main);">total entre comunidades</span>.
            </li>
            <li>
              <strong>RBAC:</strong> Control de acceso <span style="font-weight: 600; color: var(--text-main);">granular por roles</span>.
            </li>
          </ul>
        </div>

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <div style="text-align: center; margin-bottom: 8px;">
            <div style="font-size: 24px; margin-bottom: 3px;">üìê</div>
            <strong style="font-size: 13px; color: var(--primary); display: block;">Grado 2: Estructurales</strong>
            <span style="font-size: 11px; color: var(--text-light);">(Consistencia de Datos)</span>
          </div>
          <ul style="padding-left: 20px; margin: 0; font-size: 16px; line-height: 1.5; color: var(--text-main);">
            <li style="margin-bottom: 10px;">
              <strong>Modelo Fiel:</strong> Sin unidad f√≠sica, <span style="font-weight: 600; color: var(--text-main);">no existe deuda</span>.
            </li>
            <li>
              <strong>Integridad:</strong> Bloqueo autom√°tico al <span style="font-weight: 600; color: var(--text-main);">borrar datos vinculados</span>.
            </li>
          </ul>
        </div>

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <div style="text-align: center; margin-bottom: 8px;">
            <div style="font-size: 24px; margin-bottom: 3px;">‚öôÔ∏è</div>
            <strong style="font-size: 13px; color: var(--primary); display: block;">Grado 3: Operativas</strong>
            <span style="font-size: 11px; color: var(--text-light);">(Motor del Negocio)</span>
          </div>
          <ul style="padding-left: 20px; margin: 0; font-size: 16px; line-height: 1.5; color: var(--text-main);">
            <li style="margin-bottom: 10px;">
              <strong>Prorrateo:</strong> C√°lculo autom√°tico con <span style="font-weight: 600; color: var(--text-main);">precisi√≥n decimal</span>.
            </li>
            <li>
              <strong>Sanciones:</strong> Aplicaci√≥n autom√°tica de <span style="font-weight: 600; color: var(--text-main);">multas e intereses</span>.
            </li>
          </ul>
        </div>

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <div style="text-align: center; margin-bottom: 8px;">
            <div style="font-size: 24px; margin-bottom: 3px;">üõ°Ô∏è</div>
            <strong style="font-size: 13px; color: var(--primary); display: block;">Grado 4: Administrativas</strong>
            <span style="font-size: 11px; color: var(--text-light);">(Control y Auditor√≠a)</span>
          </div>
          <ul style="padding-left: 20px; margin: 0; font-size: 16px; line-height: 1.5; color: var(--text-main);">
            <li style="margin-bottom: 10px;">
              <strong>Aprobaciones:</strong> Validaci√≥n digital <span style="font-weight: 600; color: var(--text-main);">previa al gasto</span>.
            </li>
            <li>
              <strong>Trazabilidad:</strong> Conciliaci√≥n bancaria <span style="font-weight: 600; color: var(--text-main);">inteligente</span>.
            </li>
          </ul>
        </div>

      </div>
    </div>

<div class="slide">
  <h2>DIAGRAMA MAESTRO HORIZONTAL (ERD Completo)</h2>
  
  <div class="insight-box">
    <span class="insight-icon">‚û°Ô∏è</span>
    <strong>Flujo Horizontal:</strong> Organizaci√≥n lineal desde la definici√≥n de la comunidad (izquierda) hasta la conciliaci√≥n bancaria (derecha).
  </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: flex-start; min-width: 1800px;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 30,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% ==========================================
          %% ZONA 1: CONFIGURACI√ìN Y ESTRUCTURA (IZQUIERDA)
          %% ==========================================
          comunidad { bigint id PK string razon_social }
          edificio { bigint id PK string nombre }
          torre { bigint id PK string nombre }

          rol_sistema { int id PK string codigo }
          usuario { bigint id PK string username }
          usuario_rol_comunidad { bigint id PK date desde }

          proveedor { bigint id PK string rut }
          categoria_gasto { bigint id PK string nombre }
          centro_costo { bigint id PK string nombre }

          %% ==========================================
          %% ZONA 2: OPERACI√ìN Y ACTIVOS (CENTRO-IZQ)
          %% ==========================================
          unidad { bigint id PK string codigo decimal alicuota }
          persona { bigint id PK string nombre_completo }
          titulares_unidad { bigint id PK enum tipo }

          medidor { bigint id PK enum tipo }
          amenidad { bigint id PK string nombre }
          tipo_infraccion { bigint id PK string nombre }

          %% ==========================================
          %% ZONA 3: TRANSACCIONES (CENTRO-DER)
          %% ==========================================
          documento_compra { bigint id PK decimal total }
          gasto { bigint id PK decimal monto enum estado }

          lectura_medidor { bigint id PK decimal lectura }
          reserva_amenidad { bigint id PK enum estado }
          multa { bigint id PK decimal monto }
          ticket_soporte { bigint id PK enum prioridad }

          %% ==========================================
          %% ZONA 4: FINANZAS (DERECHA)
          %% ==========================================
          emision_gastos_comunes { bigint id PK string periodo }
          detalle_emision_gastos { bigint id PK decimal monto }

          cuenta_cobro_unidad { bigint id PK decimal saldo }
          detalle_cuenta_unidad { bigint id PK decimal monto }

          %% ==========================================
          %% ZONA 5: RECAUDACI√ìN (EXTREMA DERECHA)
          %% ==========================================
          pago { bigint id PK decimal monto }
          pago_aplicacion { bigint id PK decimal monto_aplicado }
          conciliacion_bancaria { bigint id PK enum estado }

          %% ==========================================
          %% RELACIONES (Flujo forzado de Izq a Der)
          %% ==========================================

          %% 1. Definici√≥n Jer√°rquica
          comunidad ||--o{ edificio : contiene
          edificio ||--o{ torre : divide_en
          torre ||--o{ unidad : agrupa

          %% 2. Definici√≥n de Acceso
          comunidad ||--o{ usuario_rol_comunidad : gestiona
          usuario ||--o{ usuario_rol_comunidad : tiene
          rol_sistema ||--o{ usuario_rol_comunidad : define
          usuario ||--o{ persona : es

          %% 3. Relaci√≥n con la Unidad (El nexo)
          unidad ||--o{ titulares_unidad : propiedad
          titulares_unidad }o--|| persona : titular
          unidad ||--o{ medidor : servicio

          %% 4. Flujo de Gastos (Egresos)
          proveedor ||--o{ documento_compra : factura
          comunidad ||--o{ categoria_gasto : configura
          documento_compra ||--o{ gasto : genera
          gasto }o--|| categoria_gasto : clasifica
          gasto }o--|| centro_costo : imputa

          %% 5. Flujo Operativo (Generan cargos)
          medidor ||--o{ lectura_medidor : registra
          unidad ||--o{ reserva_amenidad : solicita
          amenidad ||--o{ reserva_amenidad : usa
          unidad ||--o{ multa : recibe
          tipo_infraccion ||--o{ multa : tipifica
          unidad ||--o{ ticket_soporte : reporta

          %% 6. Flujo de Cobro (La Emisi√≥n)
          comunidad ||--o{ emision_gastos_comunes : emite_mes
          emision_gastos_comunes ||--o{ detalle_emision_gastos : consolida
          gasto ||--o{ detalle_emision_gastos : incluido_en

          emision_gastos_comunes ||--o{ cuenta_cobro_unidad : boleta
          cuenta_cobro_unidad }o--|| unidad : cobrada_a
          cuenta_cobro_unidad ||--o{ detalle_cuenta_unidad : items

          %% 7. Flujo de Ingreso (El cierre)
          unidad ||--o{ pago : realiza
          pago ||--o{ pago_aplicacion : distribuye
          pago_aplicacion }o--|| cuenta_cobro_unidad : rebaja
          pago |o--|| conciliacion_bancaria : valida
        </div>
      </div>
    </div>

    <div class="slide">
      <h2>M√≥dulo 01 ¬∑ Configuraci√≥n de Comunidad</h2>

      <div class="insight-box">
        <span class="insight-icon">‚öôÔ∏è</span>
        <strong>Alcance:</strong> Visualizaci√≥n de todos los par√°metros globales, financieros y operativos que definen a
        la comunidad.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- ENTIDAD CENTRAL ---
          comunidad {
          bigint id PK
          string razon_social
          string rut
          json politica_mora
          string moneda "CLP/USD"
          }

          %% --- CONFIGURACI√ìN FINANCIERA ---
          parametros_cobranza {
          bigint id
          int dias_gracia
          decimal interes_max
          enum mora_calculo "diaria/mensual"
          }

          configuracion_interes {
          bigint id
          date aplica_desde
          decimal tasa_mensual
          enum metodo "simple/compuesto"
          }

          %% --- CLASIFICACI√ìN DE GASTOS ---
          centro_costo {
          bigint id
          string codigo "Ej: CC01"
          string nombre "Ej: Administraci√≥n"
          }

          categoria_gasto {
          bigint id
          string nombre "Ej: Aseo"
          enum tipo "operacional/fondo"
          string cta_contable
          }

          %% --- ACTIVOS Y NORMATIVA ---
          amenidad {
          bigint id
          string nombre "Ej: Quincho"
          int capacidad
          decimal tarifa
          bool requiere_aprobacion
          }

          tipo_infraccion {
          bigint id
          string clave "Ej: ruido"
          decimal monto_default
          enum prioridad "baja/alta"
          }

          proveedor {
          bigint id
          string razon_social
          string rut
          string giro
          }

          %% --- RELACIONES ---
          %% La comunidad define sus reglas financieras
          comunidad ||--|| parametros_cobranza : "define reglas"
          comunidad ||--o{ configuracion_interes : "historial tasas"

          %% La comunidad define su estructura de costos
          comunidad ||--o{ centro_costo : "tiene"
          comunidad ||--o{ categoria_gasto : "cataloga"

          %% La comunidad gestiona sus activos y normas
          comunidad ||--o{ amenidad : "administra"
          comunidad ||--o{ tipo_infraccion : "regula"

          %% Relaci√≥n externa
          comunidad ||--o{ proveedor : "contrata"
        </div>
      </div>
    </div>

    <div class="slide">
      <h2>M√≥dulo 02 ¬∑ Usuarios y Seguridad (RBAC)</h2>

      <div class="insight-box">
        <span class="insight-icon">üõ°Ô∏è</span>
        <strong>Seguridad Jer√°rquica:</strong> Gesti√≥n de identidades, roles temporales por comunidad y doble capa de
        auditor√≠a (T√©cnica y de Negocio).
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. IDENTIDAD Y ACCESO (IZQUIERDA) ---
          persona {
          bigint id PK
          string rut
          string email_contacto
          string telefono
          }

          usuario {
          bigint id PK
          string username
          string hash_password
          boolean is_superadmin
          boolean totp_enabled
          }

          user_preferences {
          int id
          json preferences "Tema, Idioma"
          }

          %% --- 2. CONTROL DE ACCESO RBAC (CENTRO) ---
          usuario_rol_comunidad {
          bigint id PK
          date desde
          date hasta "Vigencia del rol"
          boolean activo
          }

          rol_sistema {
          int id
          string codigo "admin, conserje"
          int nivel_acceso "0-100"
          bool es_rol_sistema
          }

          comunidad {
          bigint id PK
          string razon_social
          }

          %% --- 3. TRAZABILIDAD Y LOGS (DERECHA/ABAJO) ---
          sesion_usuario {
          string id "Token"
          timestamp last_activity
          string ip_address
          }

          auditoria {
          bigint id
          string accion "INSERT/UPDATE"
          string tabla
          json valores_nuevos
          }

          bitacora_auditoria {
          bigint id
          enum tipo "security, system"
          enum prioridad "critical, high"
          string descripcion
          }

          %% --- RELACIONES ---
          %% Identidad
          persona ||--o{ usuario : "tiene credenciales"
          usuario ||--|| user_preferences : "configura"

          %% RBAC (El coraz√≥n del sistema)
          usuario ||--o{ usuario_rol_comunidad : "ejerce"
          usuario_rol_comunidad }o--|| rol_sistema : "con perfil"
          usuario_rol_comunidad }o--|| comunidad : "en contexto"

          %% Auditor√≠a y Sesi√≥n
          usuario ||--o{ sesion_usuario : "inicia"
          usuario ||--o{ auditoria : "genera traza datos"
          usuario ||--o{ bitacora_auditoria : "genera evento seg."
        </div>
      </div>
    </div>

    <div class="slide">
      <h2>M√≥dulo 03 ¬∑ Infraestructura y Propiedad</h2>

      <div class="insight-box">
        <span class="insight-icon">üè¢</span>
        <strong>Jerarqu√≠a F√≠sica:</strong> Estructura piramidal para el prorrateo de gastos, asignaci√≥n de medidores y
        gesti√≥n de la propiedad.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. NIVEL MACRO (IZQUIERDA) ---
          comunidad {
          bigint id PK
          string razon_social
          }

          edificio {
          bigint id PK
          string nombre
          string direccion
          }

          torre {
          bigint id PK
          string nombre
          string codigo
          }

          %% --- 2. NIVEL MICRO (CENTRO) ---
          unidad {
          bigint id PK
          string codigo "Dpto 101"
          decimal alicuota "% Gasto Com√∫n"
          decimal m2_utiles
          boolean activa
          }

          %% --- 3. ACTIVOS VINCULADOS (ABAJO) ---
          medidor {
          bigint id PK
          string codigo
          enum tipo "agua/luz/gas"
          boolean es_compartido
          }

          %% --- 4. PROPIEDAD Y HABITABILIDAD (DERECHA) ---
          titulares_unidad {
          bigint id PK
          enum tipo "propietario/arrendatario"
          date desde
          date hasta
          decimal porcentaje
          }

          persona {
          bigint id PK
          string nombre_completo
          string email
          }

          %% --- RELACIONES ---
          %% Jerarqu√≠a F√≠sica
          comunidad ||--o{ edificio : "compuesta por"
          edificio ||--o{ torre : "se divide en"

          %% Ubicaci√≥n de la Unidad (Flexible: Puede estar en Torre, Edificio o directo en Comunidad)
          torre ||--o{ unidad : "contiene"
          edificio ||--o{ unidad : "alberga"
          comunidad ||--o{ unidad : "administra directo"

          %% Servicios
          unidad ||--o{ medidor : "tiene asignado"

          %% Propiedad (Relaci√≥n N:M resuelta)
          unidad ||--o{ titulares_unidad : "pose√≠da/habitada"
          titulares_unidad }o--|| persona : "es"
        </div>
      </div>
    </div>

    <!-- M√ìDULO 04 -->
    <div class="slide">
      <h2>M√≥dulo 04 ¬∑ Gesti√≥n Financiera y Auditor√≠a</h2>

      <div class="insight-box">
        <span class="insight-icon">üí∞</span>
        <strong>Trazabilidad Total:</strong> Desde la factura del proveedor, pasando por el flujo de aprobaci√≥n, hasta
        la emisi√≥n del cobro a la comunidad.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. ORIGEN (IZQUIERDA) ---
          proveedor {
          bigint id PK
          string razon_social
          string rut
          }

          documento_compra {
          bigint id PK
          string folio
          enum tipo "factura/boleta"
          decimal monto_total
          date fecha
          }

          %% --- 2. GESTI√ìN DEL GASTO (CENTRO) ---
          gasto {
          bigint id PK
          string numero "G-2025-001"
          decimal monto
          enum estado "pendiente/aprobado"
          boolean extraordinario
          }

          gasto_aprobacion {
          bigint id PK
          enum accion "aprobar/rechazar"
          datetime fecha
          string observaciones
          }

          %% --- 3. CLASIFICACI√ìN (ARRIBA/ABAJO) ---
          centro_costo {
          bigint id
          string nombre
          }
          categoria_gasto {
          bigint id
          string nombre
          string cta_contable
          }

          %% --- 4. COBRO A LA COMUNIDAD (DERECHA) ---
          emision_gastos_comunes {
          bigint id PK
          string periodo "2025-11"
          date vencimiento
          enum estado "borrador/emitido"
          }

          %% --- RELACIONES ---
          %% Flujo de Entrada
          proveedor ||--o{ documento_compra : "emite"
          documento_compra ||--o{ gasto : "respalda"

          %% Clasificaci√≥n
          gasto }o--|| centro_costo : "imputado a"
          gasto }o--|| categoria_gasto : "clasificado en"

          %% Flujo de Control (Auditor√≠a)
          gasto ||--o{ gasto_aprobacion : "requiere"

          %% Flujo de Salida (Cobro)
          emision_gastos_comunes ||--o{ gasto : "agrupa (aprobados)"
        </div>
      </div>
    </div>

    <!-- M√ìDULO 05 -->
    <div class="slide">
      <h2>M√≥dulo 05 ¬∑ Ciclo de Ingresos y Recaudaci√≥n</h2>

      <div class="insight-box">
        <span class="insight-icon">üí∏</span>
        <strong>Flujo de Caja:</strong> Desde la generaci√≥n masiva de deuda, pasando por la pasarela de pago, hasta la
        conciliaci√≥n bancaria final.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. GENERACI√ìN DE COBRO (IZQUIERDA) ---
          emision_gastos_comunes {
          bigint id PK
          string periodo
          enum estado "borrador/emitido"
          }

          detalle_emision_gastos {
          bigint id PK
          decimal monto
          enum regla "prorrateo/fijo"
          }

          cuenta_cobro_unidad {
          bigint id PK
          decimal monto_total
          decimal saldo_pendiente
          enum estado "pendiente/pagado/vencido"
          }

          %% --- 2. PASARELA Y PAGOS (CENTRO) ---
          webhook_pago {
          bigint id PK
          enum proveedor "webpay/khipu"
          json payload
          boolean procesado
          }

          pago {
          bigint id PK
          decimal monto
          enum medio "transferencia/webpay"
          enum estado "pendiente/aplicado"
          }

          %% --- 3. IMPUTACI√ìN (EL CEREBRO DEL COBRO) ---
          pago_aplicacion {
          bigint id PK
          decimal monto_aplicado
          int prioridad
          }

          %% --- 4. CONTROL BANCARIO (DERECHA) ---
          conciliacion_bancaria {
          bigint id PK
          date fecha_banco
          decimal monto_real
          enum estado "conciliado/pendiente"
          }

          %% --- RELACIONES ---
          %% Nivel 1: Emisi√≥n Masiva
          emision_gastos_comunes ||--o{ detalle_emision_gastos : "contiene items"
          emision_gastos_comunes ||--o{ cuenta_cobro_unidad : "genera boletas"

          %% Nivel 2: Entrada de Dinero (Manual o Autom√°tica)
          webhook_pago ||--|| pago : "crea autom√°ticamente"

          %% Nivel 3: Distribuci√≥n del Dinero (Clave del Negocio)
          pago ||--o{ pago_aplicacion : "se distribuye en"
          pago_aplicacion }o--|| cuenta_cobro_unidad : "rebaja deuda de"

          %% Nivel 4: Validaci√≥n Externa
          pago |o--|| conciliacion_bancaria : "se valida contra"
        </div>
      </div>
    </div>
    <!-- M√ìDULO 05.1 -->
    <div class="slide">
      <h2>M√≥dulo 05.1 ¬∑ Ciclo Legal de Infracciones</h2>

      <div class="insight-box">
        <span class="insight-icon">‚öñÔ∏è</span>
        <strong>Gesti√≥n Punitiva:</strong> Desde la normativa base, pasando por la evidencia y apelaci√≥n, hasta el
        impacto financiero final.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. CONFIGURACI√ìN Y ORIGEN (IZQUIERDA) ---
          tipo_infraccion {
          bigint id
          string nombre "Ej: Ruido"
          decimal monto_default
          }

          unidad {
          bigint id
          string codigo
          }
          persona {
          bigint id
          string nombre
          }

          %% --- 2. EL INCIDENTE (CENTRO) ---
          multa {
          bigint id PK
          enum estado "pendiente/apelada/pagada/anulada"
          decimal monto
          enum prioridad
          date fecha_vencimiento
          }

          documento_multa {
          bigint id
          string tipo "evidencia/foto"
          string url
          }

          %% --- 3. PROCESO LEGAL (ABAJO) ---
          multa_apelacion {
          bigint id
          text motivo_apelacion
          enum estado "pendiente/aceptada/rechazada"
          text resolucion
          }

          multa_historial {
          bigint id
          string accion "cambio_estado"
          string estado_anterior
          string estado_nuevo
          datetime fecha
          }

          %% --- 4. COBRO (DERECHA) ---
          detalle_cuenta_unidad {
          bigint id
          decimal monto
          enum origen "multa"
          bigint origen_id "FK a multa.id"
          }

          %% --- RELACIONES ---
          %% Definici√≥n
          tipo_infraccion ||--o{ multa : "tipifica"

          %% Responsabilidad
          unidad ||--o{ multa : "se cursa a"
          persona ||--o{ multa : "responsable"

          %% Evidencia y Trazabilidad
          multa ||--o{ documento_multa : "sustentada por"
          multa ||--o{ multa_historial : "tiene bit√°cora"

          %% Gesti√≥n de Conflicto
          multa ||--o{ multa_apelacion : "puede tener"

          %% Impacto Financiero
          multa ||--|| detalle_cuenta_unidad : "se cobra como"
        </div>
      </div>
    </div>

    <!-- M√ìDULO 06 -->
    <div class="slide">
      <h2>M√≥dulo 06 ¬∑ Gesti√≥n de Espacios Comunes (Amenidades)</h2>

      <div class="insight-box">
        <span class="insight-icon">üìÖ</span>
        <strong>Ciclo de Reserva:</strong> Validaci√≥n de disponibilidad, asignaci√≥n de responsable y control de estados
        seg√∫n reglas del recinto.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. CONFIGURACI√ìN DEL RECURSO (IZQUIERDA) ---
          amenidad {
          bigint id PK
          string nombre
          int capacidad
          decimal tarifa
          boolean requiere_aprobacion
          text reglas
          }

          %% --- 2. LOS SOLICITANTES (CENTRO-ABAJO) ---
          unidad {
          bigint id
          string codigo
          }
          persona {
          bigint id
          string nombre
          }

          %% --- 3. LA TRANSACCI√ìN CENTRAL (DERECHA) ---
          reserva_amenidad {
          bigint id PK
          datetime inicio
          datetime fin
          enum estado "solicitada/aprobada/rechazada/cancelada/cumplida"
          }

          %% --- RELACIONES ---

          %% El recurso define las reglas
          amenidad ||--o{ reserva_amenidad : "es reservada"

          %% La solicitud vincula unidad y persona responsable
          unidad ||--o{ reserva_amenidad : "origen solicitud"
          persona ||--o{ reserva_amenidad : "responsable"

          %% NOTA T√âCNICA:
          %% Si la tarifa > 0, esto eventualmente generar√° un
          %% cargo en 'detalle_cuenta_unidad', conectando con Finanzas.
        </div>
      </div>
    </div>
    <!-- M√ìDULO 07 -->
    <div class="slide">
      <h2>M√≥dulo 07 ¬∑ Gesti√≥n de Soporte y Mantenci√≥n</h2>

      <div class="insight-box">
        <span class="insight-icon">üîß</span>
        <strong>Ciclo de Resoluci√≥n:</strong> Flujo simplificado desde el reporte del problema hasta su cierre, con
        asignaci√≥n directa de responsables.
      </div>

      <div class="mermaid-container"
        style="background-color: #f8fcff; border: 1px solid #e0f2fe; width: 100%; overflow-x: auto;">
        <button class="zoom-btn" onclick="openFullscreen(this)">üîç Ampliar</button>

        <div class="mermaid" style="display: flex; justify-content: center; width: 100%;">
          %%{init: {
          'theme': 'base',
          'themeVariables': { 'fontSize': '14px', 'fontFamily': 'Arial', 'primaryColor': '#e0f2fe',
          'edgeLabelBackground':'#ffffff' },
          'er': {
          'layoutDirection': 'LR',
          'entityPadding': 15,
          'strokeWidth': 2
          }
          }}%%
          erDiagram
          %% --- 1. QUI√âN REPORTA (IZQUIERDA) ---
          unidad {
          bigint id PK
          string codigo "Dpto 101"
          }
          comunidad {
          bigint id PK
          string razon_social
          }

          %% --- 2. EL TICKET (CENTRO - N√öCLEO) ---
          ticket_soporte {
          bigint id PK
          string titulo
          string descripcion
          string categoria "Gasfiter√≠a, Electricidad..."
          enum prioridad "baja/media/alta"
          enum estado "abierto/en_progreso/resuelto/cerrado"
          json attachments_json "Fotos/Evidencia"
          datetime created_at
          }

          %% --- 3. QUI√âN RESUELVE (DERECHA) ---
          usuario {
          bigint id PK
          string username "Conserje/Admin"
          }

          %% --- RELACIONES ---

          %% El contexto del problema
          comunidad ||--o{ ticket_soporte : "√°mbito global"
          unidad |o--o{ ticket_soporte : "reporta problema"

          %% La gesti√≥n del problema (Asignaci√≥n)
          usuario ||--o{ ticket_soporte : "es asignado a"

          %% NOTA T√âCNICA:
          %% La evidencia (fotos antes/despu√©s) se almacena
          %% directamente en el campo JSON del ticket.
        </div>
      </div>
    </div>



    <section class="slide">
      <div style="text-align: center; margin-bottom: 40px;">
        <h2
          style="font-size: 48px; color: var(--primary); margin: 0; display: inline-flex; align-items: center; gap: 15px;">
          <i class="material-icons" style="font-size: 56px;">security</i>
          Autenticaci√≥n y Seguridad
        </h2>
      </div>

      <div class="grid" style="gap: 25px; align-items: stretch; height: 65%;">

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 20px; padding: 30px; position: relative; overflow: hidden; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <i class="material-icons"
            style="position: absolute; bottom: -30px; right: -30px; font-size: 180px; color: var(--primary); opacity: 0.05; z-index: 0;">vpn_key</i>

          <div style="position: relative; z-index: 1;">
            <h3
              style="color: var(--primary); font-size: 26px; margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 10px;">
              8.1 Autenticaci√≥n JWT
            </h3>
            <p style="font-size: 18px; color: var(--text-light); margin-bottom: 15px;"><strong>Flujo B√°sico:</strong>
            </p>

            <div
              style="display: flex; flex-direction: column; gap: 10px; font-size: 20px; font-weight: 500; color: var(--text-main);">
              <div style="background: #eff6ff; padding: 10px; border-radius: 8px;">1. Login de Usuario</div>
              <div style="text-align: center; color: var(--accent);">‚Üì</div>
              <div style="background: #eff6ff; padding: 10px; border-radius: 8px;">2. Emisi√≥n de Token (JWT)</div>
              <div style="text-align: center; color: var(--accent);">‚Üì</div>
              <div style="background: #eff6ff; padding: 10px; border-radius: 8px;">3. Uso en Header <code
                  style="font-size: 16px; color: #d97706;">Authorization</code></div>
            </div>
          </div>
        </div>

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 20px; padding: 30px; position: relative; overflow: hidden; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <i class="material-icons"
            style="position: absolute; bottom: -30px; right: -30px; font-size: 180px; color: var(--primary); opacity: 0.05; z-index: 0;">qr_code_2</i>

          <div style="position: relative; z-index: 1;">
            <h3
              style="color: var(--primary); font-size: 26px; margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 10px;">
              8.2 2FA (TOTP)
            </h3>
            <ul
              style="list-style: none; padding: 0; margin: 0; font-size: 20px; line-height: 1.6; color: var(--text-main);">
              <li style="margin-bottom: 15px; display: flex; gap: 10px;">
                <i class="material-icons" style="color: var(--accent);">lock_reset</i>
                Generaci√≥n de secreto √∫nico (Speakeasy).
              </li>
              <li style="margin-bottom: 15px; display: flex; gap: 10px;">
                <i class="material-icons" style="color: var(--accent);">qr_code</i>
                Escaneo QR (Google Auth / Authy).
              </li>
              <li style="display: flex; gap: 10px;">
                <i class="material-icons" style="color: var(--accent);">timer</i>
                Validaci√≥n por ventana de tiempo (30s).
              </li>
            </ul>
          </div>
        </div>

        <div class="col"
          style="background: white; border: 1px solid #e2e8f0; border-radius: 20px; padding: 30px; position: relative; overflow: hidden; box-shadow: var(--card-shadow); display: flex; flex-direction: column;">
          <i class="material-icons"
            style="position: absolute; bottom: -30px; right: -30px; font-size: 180px; color: var(--primary); opacity: 0.05; z-index: 0;">shield</i>

          <div style="position: relative; z-index: 1;">
            <h3
              style="color: var(--primary); font-size: 26px; margin-bottom: 20px; border-bottom: 2px solid var(--accent); padding-bottom: 10px;">
              8.3 Middleware
            </h3>
            <ul
              style="list-style: none; padding: 0; margin: 0; font-size: 20px; line-height: 1.8; color: var(--text-main);">
              <li style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin-bottom: 8px;">
                <code
                  style="background: #f1f5f9; padding: 4px 8px; border-radius: 4px; color: #0f172a; font-weight: bold;">helmet()</code>
                <br><span style="font-size: 16px; color: var(--text-light);">Protecci√≥n de Headers HTTP.</span>
              </li>
              <li style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin-bottom: 8px;">
                <code
                  style="background: #f1f5f9; padding: 4px 8px; border-radius: 4px; color: #0f172a; font-weight: bold;">cors()</code>
                <br><span style="font-size: 16px; color: var(--text-light);">Control de origen cruzado.</span>
              </li>
              <li style="border-bottom: 1px solid #eee; padding-bottom: 8px; margin-bottom: 8px;">
                <code
                  style="background: #f1f5f9; padding: 4px 8px; border-radius: 4px; color: #0f172a; font-weight: bold;">express-validator</code>
                <br><span style="font-size: 16px; color: var(--text-light);">Sanitizaci√≥n de inputs.</span>
              </li>
              <li>
                <code
                  style="background: #f1f5f9; padding: 4px 8px; border-radius: 4px; color: #0f172a; font-weight: bold;">rate-limit</code>
                <br><span style="font-size: 16px; color: var(--text-light);">Prevenci√≥n de fuerza bruta.</span>
              </li>
            </ul>
          </div>
        </div>

      </div>
    </section>

    <section class="slide" style="padding: 0; overflow: hidden;">

      <div style="display: grid; grid-template-columns: 1.2fr 0.8fr; height: 100%; width: 100%;">

        <div style="padding: 60px; display: flex; flex-direction: column; justify-content: center; background: white;">

          <div style="margin-bottom: 30px; display: flex; align-items: center; gap: 15px;">
            <i class="material-icons" style="font-size: 52px; color: var(--primary);">lightbulb</i>
            <h2 style="font-size: 50px; color: var(--primary); margin: 0; border: none;">Conclusi√≥n</h2>
          </div>

          <p
            style="font-size: 24px; color: var(--text-light); margin-bottom: 40px; border-left: 5px solid var(--accent); padding-left: 25px;">
            Cuentas Claras es una soluci√≥n tecnol√≥gica robusta, lista para el mundo real.
          </p>

          <ul
            style="list-style: none; padding: 0; margin: 0; font-size: 22px; line-height: 2; color: var(--text-main);">
            <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Est√°ndares modernos de desarrollo.
            </li>
            <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Arquitectura modular y escalable.
            </li>
            <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Modelo de datos completo (3NF).
            </li>
            <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Cobertura total de procesos reales.
            </li>
            <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Seguridad avanzada (JWT + 2FA).
            </li>
            <li style="display: flex; align-items: center; gap: 15px;">
              <i class="material-icons" style="color: var(--accent); font-size: 26px;">check_circle</i>
              Infraestructura lista para despliegue.
            </li>
          </ul>

        </div>

        <div style="position: relative; height: 100%; width: 100%;">
          <div style="
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            background-image: url('https://images.unsplash.com/photo-1531482615713-2afd69097998?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            mask-image: linear-gradient(to right, transparent, black 15%);
            -webkit-mask-image: linear-gradient(to right, transparent, black 15%);
          "></div>
          <div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: rgba(0, 74, 173, 0.2);">
          </div>
        </div>

      </div>
    </section>

    <section class="slide"
      style="display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;">

      <h2 style="font-size: 54px; margin-bottom: 20px; border: none; color: var(--text-main);">Demostraci√≥n</h2>

      <p style="font-size: 26px; color: var(--text-light); font-weight: 300;">
        A continuaci√≥n mostraremos nuestro servicio.
      </p>

      <h3 style="font-size: 32px; margin-top: 40px;">Enlaces Vitales del Proyecto</h3>
      <div
        style="display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 20px; margin-top: 20px; flex-wrap: wrap;">
        <button class="btn" onclick="window.open('https://cuentasclaras.pquintanilla.cl/dashboard', '_blank')"
          style="background: var(--primary); color: white; border: none; border-radius: 50px; padding: 15px 35px; font-size: 18px; display: flex; align-items: center; gap: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
          <i class="material-icons" style="font-size: 24px;">play_arrow</i>
          <span><strong class="text-light">Frontend:</strong></span>
        </button>
        <button class="btn" onclick="window.open('https://apicc.pquintanilla.cl/docs/', '_blank')"
          style="background: var(--primary); color: white; border: none; border-radius: 50px; padding: 15px 35px; font-size: 18px; display: flex; align-items: center; gap: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
          <i class="material-icons" style="font-size: 24px;">play_arrow</i>
          <span><strong class="text-light">Backend:</strong></span>
        </button>
        <button class="btn" onclick="window.open('https://github.com/BigFrankV/proyecto_cuentas_claras', '_blank')"
          style="background: var(--primary); color: white; border: none; border-radius: 50px; padding: 15px 35px; font-size: 18px; display: flex; align-items: center; gap: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
          <i class="material-icons" style="font-size: 24px;">play_arrow</i>
          <span><strong class="text-light">Proyecto en Github:</strong></span>
        </button>
      </div>

    </section>

    <section class="slide" id="slide-final" style="padding: 0; overflow: hidden;">

      <div style="display: grid; grid-template-columns: 1fr 1fr; height: 100%; width: 100%;">

        <div style="padding: 60px; display: flex; flex-direction: column; justify-content: center; text-align: left;">

          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Logo_DuocUC.svg/2560px-Logo_DuocUC.svg.png"
            style="height: 60px; width: auto; margin-bottom: 40px; filter: brightness(0) invert(1); align-self: flex-start;"
            alt="Logo Duoc">

          <h1 style="font-size: 80px; margin: 0; line-height: 1; color: white; letter-spacing: -2px;">¬°GRACIAS!</h1>
          <h2
            style="font-size: 32px; color: #93c5fd; border: none; margin-top: 10px; margin-bottom: 40px; text-transform: uppercase; letter-spacing: 4px;">
            Fin de la presentaci√≥n
          </h2>

          <div style="width: 80px; height: 6px; background: #3673D8; margin-bottom: 40px;"></div>

          <div style="margin-bottom: 40px;">
            <p
              style="font-size: 18px; color: rgba(255,255,255,0.6); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px;">
              Equipo de Desarrollo</p>
            <ul style="list-style: none; padding: 0; margin: 0; font-size: 24px; color: white; line-height: 1.6;">
              <li style="display: flex; align-items: center; gap: 10px;">
                <span>Patricio Quintanilla</span>
              </li>
              <li style="display: flex; align-items: center; gap: 10px;">
                <span>Frank Vogt</span>
              </li>
              <li style="display: flex; align-items: center; gap: 10px;">
                <span>Mat√≠as Rom√°n</span>
              </li>
            </ul>
          </div>

          <p style="font-size: 18px; color: rgba(255,255,255,0.5);">Diciembre 2025 ‚Ä¢ Portafolio de T√≠tulo</p>
        </div>

        <div style="position: relative; height: 100%; width: 100%;">
          <div style="
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            background-image: url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            /* M√°scara de degradado para que se funda con el azul */
            mask-image: linear-gradient(to right, transparent, black 20%);
            -webkit-mask-image: linear-gradient(to right, transparent, black 20%);
          "></div>

          <div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: rgba(0, 74, 173, 0.3);">
          </div>
        </div>

      </div>
    </section>


  </div>

  <div class="slide-indicator" id="counter">1 / 30</div>

  <div class="controls">
    <button class="nav-btn" onclick="changeSlide(-1)">‚ùÆ</button>
    <button class="nav-btn" onclick="changeSlide(1)">‚ùØ</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script>
  <script>
    // Configuraci√≥n Mermaid
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        background: '#ffffff',
        primaryColor: '#004AAD',
        primaryTextColor: '#0A2540',
        primaryBorderColor: '#3673D8',
        lineColor: '#004AAD',
        secondaryColor: '#3673D8',
        tertiaryColor: '#f7fbff',
        textColor: '#0A2540',
        mainBkg: '#f8fafc',
        secondBkg: '#e2e8f0',
        border1: '#3673D8',
        border2: '#60a5fa',
        fontFamily: 'Inter',
        fontSize: '16px'
      },
      flowchart: { curve: 'basis' },
      securityLevel: 'loose'
    });

    // Navegaci√≥n
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const counter = document.getElementById('counter');

    function updateSlides() {
      slides.forEach((s, index) => {
        s.classList.remove('active');
        if (index === currentSlide) {
          s.classList.add('active');
        }
      });
      counter.innerText = (currentSlide + 1) + " / " + slides.length;
    }

    function changeSlide(dir) {
      let newIndex = currentSlide + dir;
      if (newIndex >= 0 && newIndex < slides.length) {
        currentSlide = newIndex;
        updateSlides();
      }
    }

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'Space') changeSlide(1);
      if (e.key === 'ArrowLeft') changeSlide(-1);
    });

    // --- L√ìGICA DE ZOOM Y PAN EN FULLSCREEN ---
    const modal = document.getElementById('fullscreen-modal');
    const modalContent = document.getElementById('fullscreen-content');
    const viewport = document.getElementById('fullscreen-viewport');

    let scale = 1;
    let isDragging = false;
    let startX, startY, translateX = 0, translateY = 0;

    window.openFullscreen = function (btn) {
      const container = btn.parentElement;
      const originalSvg = container.querySelector('svg');

      if (originalSvg) {
        modalContent.innerHTML = '';

        // CLONAR Y LIMPIAR ESTILOS QUE CAUSAN COLAPSO
        const clone = originalSvg.cloneNode(true);
        clone.removeAttribute('height');
        clone.removeAttribute('width');
        clone.style.width = '100%';
        clone.style.height = 'auto';
        clone.style.maxWidth = 'none';
        clone.style.maxHeight = 'none';

        modalContent.appendChild(clone);

        // Resetear variables
        scale = 1;
        translateX = 0;
        translateY = 0;
        updateTransform();

        modal.style.display = 'flex';
      } else {
        alert('Diagrama cargando...');
      }
    }

    window.closeFullscreen = function () {
      modal.style.display = 'none';
    }

    // Zoom controls
    window.zoom = function (delta) {
      scale += delta;
      if (scale < 0.1) scale = 0.1;
      updateTransform();
    }

    window.resetZoom = function () {
      scale = 1;
      translateX = 0;
      translateY = 0;
      updateTransform();
    }

    window.handleWheel = function (e) {
      if (e.ctrlKey || e.metaKey || true) {
        e.preventDefault();
        const delta = e.deltaY * -0.001;
        const newScale = scale + delta;
        if (newScale > 0.1 && newScale < 5) {
          scale = newScale;
          updateTransform();
        }
      }
    }

    // Pan controls (Drag)
    window.startDrag = function (e) {
      if (e.target.tagName === 'BUTTON') return;
      isDragging = true;
      startX = e.clientX - translateX;
      startY = e.clientY - translateY;
      viewport.style.cursor = 'grabbing';
    }

    window.drag = function (e) {
      if (!isDragging) return;
      e.preventDefault();
      translateX = e.clientX - startX;
      translateY = e.clientY - startY;
      updateTransform();
    }

    window.endDrag = function () {
      isDragging = false;
      viewport.style.cursor = 'grab';
    }

    function updateTransform() {
      modalContent.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
    }
  </script>

</body>

</html>